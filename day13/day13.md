# 进程和线程

## 20190706
### 概念
- 进程：操作系统中执行的一个程序
- 线程：一个进程可以拥有多个并发的执行线索，简单的说就是拥有多个可以获得CPU调度的执行单元

- 优点：多线程实现并发程序可以提升程序的性能和改善用户体验
- 缺点：占用了更多的CPU执行时间，导致其他程序无法获得足够的CPU执行时间

## 20190707
### Python中的多进程
Python的os模块提供fork()函数，但是Win系统没有fork调用，要用到multiprocessing模块的Process类创建子进程。

从l1的结果发现，程序中的代码只能按顺序一点点往下执行，即使执行两个毫不相关的下载任务，也需要等一个下完再下另一个。

- l2中用Process类创建进程对象
两个下载任务同时启动

## 20190708
### python中的多线程
- 推荐threading模块
l5将l2的函数封装到继承的类中，run函数改写，start函数会调用run

- “临界资源”
l6用100个线程同时向账户转入1元钱，结果远远小于100元，因为没有对银行账户这个临界资源添加保护，多个账户同时存钱时，余额都是初始状态下的0
l7对这个情况加以改进

## 20190709
### 应用案例
#### 例子1：将耗时间的任务放到线程中以获得更好的用户体验
在ex1中，有“下载”和“关于”两个按钮，用休眠的方式模拟点击“下载”按钮会联网下载文件需要耗费10秒的时间，如果不使用“多线程”，我们会发现，当点击“下载”按钮后整个程序的其他部分(包括关闭窗口，点击关于等等操作)都被这个耗时间的任务阻塞而无法执行了，这显然是非常糟糕的用户体验。
而在ex2中，使用多线程将耗时间的任务放到一个独立的线程中执行，这样就不会因为执行耗时间的任务而阻塞了主线程。

## 20190710
#### 例子2：多进程对复杂任务进行“分而治之”
1-100，000，000的求和
- ex2采用循环求和的方法，大概需要8秒
- ex2_2用8个进程将数据切片,大概需要1秒多
只比较了计算的时间，没有考虑切片的时间，算上切片的话，第二种方法耗时多。
多进程获得更多的CPU执行时间以及更好的利用了CPU的多核特性，明显减少了程序的执行时间，而且计算量越大效果越明显。